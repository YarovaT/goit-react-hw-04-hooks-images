(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__nrL5P",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2MtOD"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__j-Atw",modal:"Modal_modal__ZrLPE"}},22:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2f139"}},23:function(e,t,a){e.exports={container:"Container_container__1r-Qz"}},25:function(e,t,a){e.exports={Button:"Button_Button__3eWaX"}},30:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__oiK_8",searchForm:"Searchbar_searchForm__1R1zx",searchFormButton:"Searchbar_searchFormButton__3pMMs",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__3dO_n",searchFormInput:"Searchbar_searchFormInput__2mpPd"}},71:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a.n(r),s=(a(30),a(13)),i=a(4),l=a(5),u=a.n(l),m=a(1);function b(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:u.a.searchbar,children:Object(m.jsxs)("form",{className:u.a.searchForm,onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(m.jsx)("button",{type:"submit",className:u.a.searchFormButton,children:Object(m.jsx)("span",{className:u.a.searchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:u.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value)}})]})})}var j=a(22),h=a.n(j),g=a(10),d=a.n(g),f=function(e){var t=e.image,a=e.tags,n=e.largeImageURL,c=e.onClickModal;return Object(m.jsx)("li",{className:d.a.imageGalleryItem,children:Object(m.jsx)("img",{className:d.a.imageGalleryItemImage,src:t,alt:a,onClick:function(){return c(n)}})})};f.defaultProps={image:"https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled.png",tags:""};var p=f,O=function(e){var t=e.images,a=e.onImgClick;return Object(m.jsx)("ul",{className:h.a.imageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.tags,r=e.largeImageURL;return Object(m.jsx)(p,{image:n,tags:c,largeImageURL:r,onClickModal:a},t)}))})},_=a(23),x=a.n(_),v=function(e){var t=e.children;return Object(m.jsx)("div",{className:x.a.container,children:t})},y=a(11),I=a.n(y);I.a.defaults.baseURL="https://pixabay.com/api/";var w=function(e){var t=e.searchQuery,a=e.currentPage,n=void 0===a?1:a,c=e.perPage,r=void 0===c?12:c;return I.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(t,"&per_page=").concat(r,"&key=").concat("21973374-56c885108110b7a34a7b7e2cd","&page=").concat(n)).then((function(e){return e.data.hits}))},S=a(24),k=a.n(S),C=(a(70),a(25)),F=a.n(C),L=function(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",onClick:t,className:F.a.Button,children:"Load more ..."})},G=a(12),N=a.n(G),B=document.querySelector("#modal-root");function E(e){var t=e.children,a=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.key&&a()};return Object(r.createPortal)(Object(m.jsx)("div",{className:N.a.overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(m.jsx)("div",{className:N.a.modal,children:t})}),B)}function M(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(n.useState)(""),h=Object(i.a)(j,2),g=h[0],d=h[1],f=Object(n.useState)(!1),p=Object(i.a)(f,2),_=p[0],x=p[1],y=Object(n.useState)(!1),I=Object(i.a)(y,2),S=I[0],C=I[1],F=Object(n.useState)(1),G=Object(i.a)(F,2),N=G[0],B=G[1],M=Object(n.useState)(null),P=Object(i.a)(M,2),R=P[0],U=P[1];Object(n.useEffect)((function(){l&&z()}),[l]),Object(n.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));var z=function(){var e={searchQuery:l,currentPage:N};l&&(x(!0),w(e).then((function(e){return c((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))}))}),B((function(e){return e+1}))).catch((function(e){return U(e)})).finally((function(){return x(!1)})))},Q=a.length>0&&!_;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b,{onSubmit:function(e){u(e.trim()),c([]),B(1),U(null)}}),R&&Object(m.jsxs)("p",{children:["Whoops, something went wrong: ",R.message]}),Object(m.jsxs)(v,{children:[_&&Object(m.jsx)(k.a,{type:"Circles",color:"#3f51b5",height:100,width:100,timeout:3e3}),Object(m.jsx)(O,{images:a,onImgClick:function(e){C(!0),d(e)}}),Q&&Object(m.jsx)(L,{onClick:z}),S&&Object(m.jsx)(E,{onClose:function(){C(!1),d("")},children:Object(m.jsx)("img",{src:g,alt:""})})]})]})}o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.05904764.chunk.js.map