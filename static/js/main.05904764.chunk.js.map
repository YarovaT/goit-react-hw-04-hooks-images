{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","api/imageApi.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","style","searchbar","searchForm","e","preventDefault","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","value","onChange","imgTags","currentTarget","ImageGalleryItem","image","tags","largeImageURL","onClickModal","imageGalleryItem","imageGalleryItemImage","src","alt","onClick","defaultProps","ImageGallery","images","onImgClick","imageGallery","map","id","webformatURL","Container","children","container","axios","defaults","baseURL","searchQuery","currentPage","perPage","get","then","res","data","hits","Button","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","key","createPortal","overlay","event","target","modal","App","setImages","setSearchQuery","modalImg","setModalImg","isLoading","setIsLoading","showModal","setShowModal","setCurrentPage","error","setError","fetchImg","scrollTo","top","documentElement","scrollHeight","behavior","options","Api","prevState","catch","finally","shouldRenderLoadMoreButton","length","trim","message","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.05904764.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__nrL5P\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2MtOD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__j-Atw\",\"modal\":\"Modal_modal__ZrLPE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2f139\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1r-Qz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3eWaX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__oiK_8\",\"searchForm\":\"Searchbar_searchForm__1R1zx\",\"searchFormButton\":\"Searchbar_searchFormButton__3pMMs\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__3dO_n\",\"searchFormInput\":\"Searchbar_searchFormInput__2mpPd\"};","import { useState } from 'react';\nimport style from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const seachImagesByTags = imgTags => {\n    setQuery(imgTags.currentTarget.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className={style.searchbar}>\n      <form className={style.searchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={style.searchFormButton}>\n          <span className={style.searchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={style.searchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={seachImagesByTags}\n        />\n      </form>\n    </header>\n  );\n}\n","import React from 'react';\nimport style from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ image, tags, largeImageURL, onClickModal }) => {\n  return (\n    <li className={style.imageGalleryItem}>\n      <img\n        className={style.imageGalleryItemImage}\n        src={image}\n        alt={tags}\n        onClick={() => onClickModal(largeImageURL)}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.defaultProps = {\n  image:\n    'https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled.png',\n  tags: '',\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.string,\n  tags: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport style from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, onImgClick }) => (\n  <ul className={style.imageGallery}>\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        image={webformatURL}\n        tags={tags}\n        largeImageURL={largeImageURL}\n        onClickModal={onImgClick}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.shape.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Container.module.css';\n\nconst Container = ({ children }) => {\n  return <div className={style.container}>{children}</div>;\n};\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst apiKey = '21973374-56c885108110b7a34a7b7e2cd';\n\nconst fetchImg = ({ searchQuery, currentPage = 1, perPage = 12 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&per_page=${perPage}&key=${apiKey}&page=${currentPage}`,\n    )\n    .then(res => res.data.hits);\n};\n\n/* eslint import/no-anonymous-default-export: [2, {\"allowObject\": true}] */\nexport default { fetchImg };\n","import React from 'react';\nimport style from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" onClick={onClick} className={style.Button}>\n      Load more ...\n    </button>\n  );\n};\n\nexport default Button;\n","import { useEffect } from 'react';\nimport style from './Modal.module.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ children, onClose }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={style.overlay} onClick={handleBackdropClick}>\n      <div className={style.modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import Seachbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Container from './components/Container';\nimport { useState, useEffect } from 'react';\nimport Api from './api/imageApi';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Button from './components/Button';\nimport Modal from './components/Modal/Modal';\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [modalImg, setModalImg] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (searchQuery) {\n      fetchImg();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  useEffect(() => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  });\n\n  const onChangeQuery = query => {\n    setSearchQuery(query.trim());\n    setImages([]);\n    setCurrentPage(1);\n    setError(null);\n  };\n\n  const fetchImg = () => {\n    const options = { searchQuery, currentPage };\n\n    if (!searchQuery) {\n      return;\n    }\n\n    setIsLoading(true);\n\n    Api.fetchImg(options)\n      .then(\n        hits => setImages(prevState => [...prevState, ...hits]),\n        setCurrentPage(prevState => prevState + 1),\n      )\n      .catch(error => setError(error))\n      .finally(() => setIsLoading(false));\n  };\n\n  const toggleModal = () => {\n    setShowModal(false);\n    setModalImg('');\n  };\n\n  const openModal = largeImageURL => {\n    setShowModal(true);\n    setModalImg(largeImageURL);\n  };\n\n  const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n  return (\n    <>\n      <Seachbar onSubmit={onChangeQuery} />\n\n      {error && <p>Whoops, something went wrong: {error.message}</p>}\n\n      <Container>\n        {isLoading && (\n          <Loader\n            type=\"Circles\"\n            color=\"#3f51b5\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {<ImageGallery images={images} onImgClick={openModal} />}\n\n        {shouldRenderLoadMoreButton && <Button onClick={fetchImg} />}\n\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={modalImg} alt=\"\" />\n          </Modal>\n        )}\n      </Container>\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}